<%
  comment_level = nested_level(comment)
%>

<div class="comment <%= 'reply' if comment.comment_id != nil && comment_level < 4 %>">
  <%#= comment.author %>
  <p><%= comment.content %></p>

  <p>
    Id: <%= comment.id %>, Nested level: <%= nested_level(comment) %>
  </p>

  <%#= link_to 'Destroy Comment', [comment.pin, comment], data: { turbo_stream: false, turbo_method: :delete, turbo_confirm: "Are you sure?" } %>

  <%= render "comments/form", parent_comment_id: comment.id %>

  <%= render comment.replies %>
</div>